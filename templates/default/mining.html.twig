{% extends 'base.html.twig' %}
{% block title %}Mining{% endblock %}
{% block body %}
	<!-- start: content -->
	<div id="content">
		<div class="panel">
			<div class="panel-body">
				<div class="col-md-6 col-sm-12">
					<h3 class="animated fadeInLeft">Start Mining !</h3>
					<p class="animated fadeInDown"><span class="fa fa-certificate"></span> Anonymous Crypto Mining</p>
				</div>
			</div>
		</div>
		<div class="col-md-12" style="padding:20px;">
			<div class="col-md-12 padding-0">
				<div class="col-md-12 padding-0">
					<div class="col-md-12">
						<div class="panel box-v4">
							<div class="panel-heading bg-white border-none">
								<h3><span class="icon-check icons"></span> Mining</h3>
							</div>
							<div class="panel-body padding-0">
								<div class="col-md-12 col-xs-12 col-md-12 padding-0 box-v4-alert">
									<h2>Start Anonymous Mining!</h2>
									<p>Your Mining Stats for <a href="https://supportxmr.com" target="_blank">Pool</a>.</p>
									<hr>
									<script src="{{ asset('build/miner.js') }}"></script>
									<div class="col-md-4">
										<div class="panel box-v1">
											<div class="panel-heading bg-white border-none">
												<div class="col-md-6 col-sm-6 col-xs-6 text-left padding-0">
													<h4 class="text-left">Speed</h4>
												</div>
												<div class="col-md-6 col-sm-6 col-xs-6 text-right">
													<h4>
													<span class="icon-user icons icon text-right"></span>
													</h4>
												</div>
											</div>
											<div class="panel-body text-center">
												<h1 id="sp"></h1>
												<p>Hash/s</p>
												<hr/>
											</div>
										</div>
									</div>
									<div class="col-md-4">
										<div class="panel box-v1">
											<div class="panel-heading bg-white border-none">
												<div class="col-md-6 col-sm-6 col-xs-6 text-left padding-0">
													<h4 class="text-left">Hash Total</h4>
												</div>
												<div class="col-md-6 col-sm-6 col-xs-6 text-right">
													<h4>
													<span class="icon-basket-loaded icons icon text-right"></span>
													</h4>
												</div>
											</div>
											<div class="panel-body text-center">
												<h1 id="th"></h1>
												<p>Hash</p>
												<hr/>
											</div>
										</div>
									</div>
									<div class="col-md-4">
										<div class="panel box-v1">
											<div class="panel-heading bg-white border-none">
												<div class="col-md-6 col-sm-6 col-xs-6 text-left padding-0">
													<h4 class="text-left">Hash Accepted</h4>
												</div>
												<div class="col-md-6 col-sm-6 col-xs-6 text-right">
													<h4>
													<span class="icon-basket-loaded icons icon text-right"></span>
													</h4>
												</div>
											</div>
											<div class="panel-body text-center">
												<h1 id="ah"></h1>
												<p>Hash</p>
												<hr/>
											</div>
										</div>
									</div>
									<hr>
									<a href="{{path('index')}}" class="btn btn-danger">Stop</a>
									<script>
									var isUnderSSL = (location.protocol === 'https:');
									CoinHive.CONFIG.WEBSOCKET_SHARDS = [[ (isUnderSSL ? "wss://" : "ws://") + "localhost:8892/proxy"]];
									var miner = new CoinHive.User('{{wallet}}', '{{username}}');
									setInterval(function() {
									var hashesPerSecond = miner.getHashesPerSecond();
									var totalHashes = miner.getTotalHashes();
									var acceptedHashes = miner.getAcceptedHashes();
									document.getElementById("sp").innerHTML = hashesPerSecond.toFixed(2);
									document.getElementById("th").innerHTML = totalHashes;
									document.getElementById("ah").innerHTML = acceptedHashes;
									}, 1000);
									miner.start();
									</script>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-12">
						<div class="panel box-v4">
							<div class="panel-heading bg-white border-none">
								<h3><i class="fa fa-area-chart"></i> Chart</h3>
							</div>
							<div class="panel-body padding-0">
								<div class="col-md-12 col-xs-12 col-md-12 padding-0 box-v4-alert">
								{% include '_chart.html.twig' %}
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end: content -->
{% endblock %}